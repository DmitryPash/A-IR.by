<div class="mfp-popup mfp-anim popup-bottom popup-fastorder">
  <div class="mfp-popup-header">
    <div class="mfp-popup-title">Быстрый заказ</div>
  </div>


  <div class="fastorder-product">
    <div class="fastorder-product-img">
      <img src="./images/popup-item-img.webp" alt="alt" />
    </div>
    <div class="fastorder-product-title"><a href="#">Винтовой компрессор A1R BB-4FC</a></div>
    <div class="fastorder-product-prices">
      <div class="card-counter">
        <div class="card-counter-btn btn-minus disabled">
           <img src="./images/icons/btn-minus.svg" alt="alt" class="card-minus" />
        </div>
        <input class="card-counter-input" value="1" />
        <div class="card-counter-btn btn-plus">
           <img src="./images/icons/counter-plus.svg" alt="alt" />
        </div>
     </div>

     <div class="fastorder-product-pricelist">
        <div class="fastorder-product-price">5 381 BYN</div>
        <div class="fastorder-product-currency">2 500$ / 2 300€</div>
     </div>
    </div>
  </div>


  <form action="" class="popup-fastOder">
    <div class="ui-field">
      <label class="ui-label ui-label-mini" for="name">Ваше имя <span class="ui-color-red">*</span></label>
      <div class="ui-input-wrp">
        <input
          type="text"
          name="name"
          id="name"
          class="ui-input"
          placeholder="Иванов Иван Иванович"
        />
        <div class="popup-icon"></div>
      </div>
    </div>

    <div class="mfp-popup-fields">
      <div class="ui-field">
        <label class="ui-label ui-label-mini" for="telephone">Телефон <span class="ui-color-red">*</span></label>
        <div class="ui-input-wrp">
          <input
            type="text"
            name="telephone"
            id="telephone"
            class="ui-input"
            placeholder="+375 (33) 398-18-18"
          />
          <div class="popup-icon"></div>
        </div>
      </div>

      <div class="ui-field">
        <label class="ui-label ui-label-mini" for="email">Email <span class="ui-color-red">*</span></label>
        <div class="ui-input-wrp">
          <input
            type="text"
            name="email"
            id="email"
            class="ui-input"
            placeholder="123@gmail.com"
          />
          <div class="popup-icon"></div>
        </div>
      </div>
    </div><!--.fields-->



    <div class="ui-checkbox">
      <input type="checkbox" id="customCheckbox" class="ui-checkbox-input" checked>
      <label for="customCheckbox" class="ui-checkbox-label">
        <span class="default-txt">
          Нажимая кнопку «Отправить запрос» вы соглашаетесь <a href="#">с политикой обработки персональных данных.</a>
        </span>

        <span class="mob-txt">Я соглашаюсь с <a href="#">политикой обработки персональных данных.</a></span>
      </label>
    </div>

    <button type="submit" class="ui-btn ui-btn-blue ui-btn-block">Отправить запрос</button>

  </form>
  <style>
    @media (max-width: 576.99px) {
      .mfp-container:before {
        content: none;
      }
      .mfp-content {
        min-height: 100vh;
        height: -webkit-fill-available;
        display: flex;
        align-items: flex-end;
      }
    }
  </style>
  <script>
    var element = document.getElementById("telephone");
    var maskOptions = {
      placeholder: "+{000}(00)000-00-00",
      mask: "+{000}(00)000-00-00",
    };
    var mask = IMask(element, maskOptions);

    let minusBtn = document.querySelectorAll(".btn-minus");
    let plusBtn = document.querySelectorAll(".btn-plus");
    let inputBtn = document.querySelectorAll(".card-item-counter-input");
    let reg = /[^\d]/g;
    plusBtn.onclick = () => {
      console.log("plus");
      inputBtn.value++;
    };

    minusBtn.onclick = () => {
      inputBtn.value == 1 ? false : inputBtn.value--;
    };

    inputBtn.oninput = function () {
      this.value = this.value.replace(reg, "");
    };
    $(document).ready(function () {
      $(".popup-fastOder").validate({
        errorElement: "span",
        rules: {
          email: {
            required: true,
            email: true,
          },
          telephone: {
            required: true,
            minlength: 12,
            telephone: true,
          },
          name: {
            required: true,
            lettersonlyName: true,
          },
          number: {
            required: true,
            number: true,
          },
          person: {
            required: true,
          },
        },
        messages: {
          email: {
            required: "Введите ваш email",
          },
          name: {
            required: "Введите имя",
            // lettersonlyName: "",
          },
          telephone: {
            required: "Введите ваш номер",
            minlength: " ",
          },
          number: {
            required: "Введите данные",
          },
          person: {
            required: "Введите данные",
          },
        },
        highlight: function(element, errorClass, validClass) {
          $(element).addClass(errorClass).removeClass(validClass);
          $(element).closest('.ui-field').find('.popup-icon')
            .addClass(errorClass).removeClass(validClass);

        },
        unhighlight: function(element, errorClass, validClass) {
          $(element).removeClass(errorClass).addClass(validClass);
          $(element).closest('.ui-field').find('.popup-icon')
            .removeClass(errorClass).addClass(validClass);
        }
      });

    });
    jQuery.validator.addMethod(
      "telephone",
      function (value, element) {
        return (
          this.optional(element) ||
          /^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){6,14}(\s*)?$/i.test(value)
        );
      },
      " "
    );
    jQuery.validator.addMethod(
      "lettersonlyName",
      function (value, element) {
        return this.optional(element) || /^[a-zA-ZА-Яа-я\s]+$/i.test(value);
      },
      " "
    );
    jQuery.validator.addMethod(
      "email",
      function (value, element) {
        return (
          this.optional(element) ||
          /^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/i.test(
            value
          )
        );
      },
      " "
    );
    jQuery.validator.addMethod(
      "number",
      function (value, element) {
        return (
          this.optional(element) ||
          /^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){6,14}(\s*)?$/i.test(value)
        );
      },
      "Ваш УНП не может состоять из букв"
    );
  </script>
</div>
