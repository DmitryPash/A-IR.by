<div class="mfp-popup mfp-anim popup-alert not_delay popup-delivery">
  <div class="delivery-map-title">Карта проезда</div>
  <div class="deliveryMap" id="deliveryMap"></div>

  <style>
    .popup-delivery {
      padding: 16px;
      max-width: 750px;
      display: block;
    }
    @media (max-width: 576px) {
      .popup-delivery {
        height: calc(var(--vh, 1vh) * 100);
      }
    }
    .delivery-map-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 26px;
      display: none;
    }
    @media (max-width: 576px) {
      .delivery-map-title {
        display: block;
      }
    }
    .deliveryMap {
      width: 100%;
      height: 750px;

      /* height: calc((var(--vh, 1vh) * 100) - 60px - 32px); */

      /* max-height: 530px; */
      display: block;
    }
    @media (max-width: 576px) {
      .deliveryMap {
        border-radius: 8px;
        overflow: hidden;
        height: calc((var(--vh, 1vh) * 100) - 60px - 32px);
        /* height: 640px; */
      }
    }
    .popup-close,
    button.mfp-close {
      color: #fff !important;
      top: 0px !important;
      right: -36px !important;
    }
    @media (max-width: 992px) {
      .popup-close,
      button.mfp-close {
        right: 0 !important;
        top: -25px !important;
      }
    }
    @media (max-width: 576px) {
      .popup-close,
      button.mfp-close {
        right: 16px !important;
      }
    }
    .popup-close:after,
    button.mfp-close:after {
      background-color: #fff !important;
    }
    .popup-close:before,
    button.mfp-close:before {
      background-color: #fff !important;
    }
    @media (max-width: 576px) {
      .popup-close:after,
      button.mfp-close:after {
        background-color: #d3d3d3 !important;
      }
      .popup-close:before,
      button.mfp-close:before {
        background-color: #d3d3d3 !important;
      }
    }
  </style>
  <script>
    $(document).ready(function () {
      function mapDelivery_map() {
        ymaps.ready(createMapDelivery);
        function createMapDelivery() {
          var deliveryMap = new ymaps.Map(
            "deliveryMap",
            {
              center: [53.902292, 27.561821],
              zoom: 10,
              controls: [],
            },
            {
              searchControlProvider: "yandex#search",
            }
          );

          var myPolygon = new ymaps.Polygon(
            [
              // Указываем координаты вершин многоугольника.
              // Координаты вершин внешнего контура.
              [
                [53.853642, 27.456471],

                [53.941846, 27.445484],
                [53.947112, 27.632252],
                [53.846537, 27.635342],
                // [55.70, 37.70],
                // [55.70, 37.50]
              ],
              // Координаты вершин внутреннего контура.
              [
                // [55.75, 37.52],
                // [55.75, 37.68],
                // [55.65, 37.60]
              ],
            ],
            {
              // Описываем свойства геообъекта.
              // Содержимое балуна.
              hintContent: "Многоугольник",
            },
            {
              // Задаем опции геообъекта.
              // Цвет заливки.
              fillColor: "#63b5eb7b",
              // Ширина обводки.
              strokeWidth: 1,
            }
          );
          var myPolygon1 = new ymaps.Polygon(
            [
              // Указываем координаты вершин многоугольника.
              // Координаты вершин внешнего контура.
              [
                //  [54.947864, 27.274663],
                //  [53.944405, 27.270060],
                //  [53.917639, 27.355659],
                // [55.70, 37.70],
                // [55.70, 37.50]
              ],
              // Координаты вершин внутреннего контура.
              [
                // [55.75, 37.52],
                // [55.75, 37.68],
                // [55.65, 37.60]
              ],
            ],
            {
              // Описываем свойства геообъекта.
              // Содержимое балуна.
              hintContent: "Многоугольник",
            },
            {
              // Задаем опции геообъекта.
              // Цвет заливки.
              fillColor: "#63b5eb7b",
              // Ширина обводки.
              strokeWidth: 1,
            }
          );
          // Добавляем многоугольник на карту.
          deliveryMap.geoObjects.add(myPolygon);
          //  deliveryMap.geoObjects.add(myPolygon1);

          // First we get the viewport height and we multiple it by 1% to get a value for a vh unit
          let vh = window.innerHeight * 0.01;
          // Then we set the value in the --vh custom property to the root of the document
          document.documentElement.style.setProperty("--vh", `${vh}px`);

          // We listen to the resize event
          window.addEventListener("resize", () => {
            // We execute the same script as before
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty("--vh", `${vh}px`);
          });
        }
      }

      FARBA.lazyLibraryLoad(
        "//api-maps.yandex.ru/2.1/?lang=ru_RU",
        "",
        mapDelivery_map
      );
    });
  </script>
</div>
