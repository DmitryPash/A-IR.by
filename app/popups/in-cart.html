<div class="mfp-popup mfp-anim popup-incart popup-goods popup-bottom">
  <div class="popup-goods-header">
    <div class="mfp-popup-title">Товар добавлен в корзину</div>
  </div>

  <div class="popup-incart-products">
    <div class="row">
      <div class="col-popup-incart-left">
       <div class="incart-product">
        <div class="incart-product-img"><a href="#"><img src="./images/product-img.png" alt="alt"></a></div>
        <div class="incart-product-body">
          <div class="incart-product-title"><a href="#">Винтовой компрессор A1R BB-4FC, 10 бар</a></div>
          <div class="incart-product-price">5 381 BYN</div>
          <div class="incart-product-currency">2 500$ / 2 300€ </div>
        </div>

       </div>
        
      </div>

      <div class="col-popup-incart-right">
        <div class="row">
          <div class="col-md-12 col-xs-6">
            <a href="#" class="ui-btn ui-btn-block">Оформить заказ</a>
          </div>
          <div class="col-md-12 col-xs-6">
            <a href="#" class="ui-btn ui-btn-block ui-btn-bordered-red mfp-custom-close">Продолжить покупки</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="popup-goods-body">

    <div class="incart-filters">
      <div class="incart-filters-tabs">
        <div class="row">
          <div class="col-xs-6 col-incart-filters">
            <a href="#group_1" class="ui-btn ui-btn-tertiary ui-btn-block incart-filter-cat" data-cat="rashodniki">Расходные материалы</a>
          </div>
          <div class="col-xs-6 col-incart-filters">
            <a href="#group_2" class="ui-btn ui-btn-tertiary ui-btn-block incart-filter-cat" data-cat="options">Дополнительные опции</a>
          </div>
        </div>
      </div>
      

      <div class="incart-filters-links">
        <div id="group_1" class="incart-filters-tab">
          <a href="javascript:void(0)" class="ui-tab incart-filter active" data-filter="">Все</a>
          <a href="javascript:void(0)" class="ui-tab incart-filter" data-filter="oil">Масло</a>
          <a href="javascript:void(0)" class="ui-tab incart-filter" data-filter="cran">Краны</a>
        </div>

        <div id="group_2" class="incart-filters-tab">
          <a href="javascript:void(0)" class="ui-tab incart-filter active" data-filter="">Все</a>
          <a href="javascript:void(0)" class="ui-tab incart-filter" data-filter="nasos">Насосы увеличенной мощности</a>
          <a href="javascript:void(0)" class="ui-tab incart-filter" data-filter="wheels">Транспортировочные колесики</a>
        </div>
      </div>
    </div>

    <div class="similar-mobile ui-screen-less-1024"><div class="ui-scroller flex"></div></div><!--.mobile-->

    <div class="incart-mobile-btns ui-screen-less-576">
      <div class="row">
        <div class="col-us-6">
          <a href="#" class="ui-btn ui-btn-block">Оформить заказ</a>
        </div>
        <div class="col-us-6">
          <a href="#" class="ui-btn ui-btn-block ui-btn-bordered-red mfp-custom-close">Продолжить покупки</a>
        </div>
      </div>
    </div>

    <div class="similar-desktop ui-screen-more-1024">
      <div class="similar-swiper swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide" data-cat="rashodniki" data-filter="oil">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product-img.png" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Винтовой компрессор A1R BB-4FC, 10 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">5 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>

          <div class="swiper-slide" data-cat="rashodniki" data-filter="cran">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product2.jpeg" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Винтовой компрессор Delonghi Abasco XM6, 100 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">5 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>

          <div class="swiper-slide" data-cat="rashodniki" data-filter="oil">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product3.webp" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Короткое название, 10 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">25 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>

          <div class="swiper-slide" data-cat="rashodniki" data-filter="cran">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product-img.png" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Винтовой компрессор A1R BB-4FC, 10 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">5 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>

          <div class="swiper-slide" data-cat="options" data-filter="nasos">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product2.jpeg" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Винтовой компрессор Delonghi Abasco XM6, 100 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">5 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>

          <div class="swiper-slide" data-cat="options" data-filter="wheels">
            <div class="popup-card">
              <div class="popup-card-img">
                <a href="#" class="popup-card-img-link">
                  <img src="./images/product3.webp" alt="alt">
                </a>
              </div>

              <div class="popup-card-code">Код: <span class="popup-card-code-code">01020304</span></div>

              <div class="popup-card-title"><a href="#" class="popup-card-title-link">Короткое название, 10 бар</a></div>

              <div class="popup-card-str">
                <div class="popup-card-price">25 381.00 <span class="popup-card-price-unit">р.</span></div>
                <a href="#" class="ui-btn popup-card-btn">
                  <svg class="sprite popup-card-btn-icon"><use xlink:href="svg/svg/symbols.svg#cart"/></svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="ui-arrow ui-arrow-prev popup-goods-prev">
        <svg class="sprite ui-arrow-icon"><use xlink:href="svg/svg/symbols.svg#ui-arrow-prev"/></svg>
      </div>

      <div class="ui-arrow ui-arrow-next popup-goods-next">
        <svg class="sprite ui-arrow-icon"><use xlink:href="svg/svg/symbols.svg#ui-arrow-next"/></svg>
      </div>
    </div><!--desktop-->
  </div>

 
  <style>
    @media (max-width: 576.99px) {
      .mfp-container:before {
        content: none;
      }
      .mfp-content {
        min-height: 100vh;
        height: -webkit-fill-available;
        display: flex;
        align-items: flex-end;
      }
    }
  </style>
  <script>
    $(document).ready(function () {

      $('.incart-filters-tabs a').Tabs();
      
      let slider = null, native = null;

      //desktop
      if(matchMedia) {
        var bp = window.matchMedia('(min-width:1024.02px)');
        bp.addListener(changes);
        changes(bp);
      }
      function changes(bp) {
        if(bp.matches && !slider) {
          slider = new Swiper(".similar-swiper", {
            slidesPerView: 3,
            spaceBetween: 8,
            shortSwipes: false,
            navigation: {
              nextEl: ".popup-goods-next",
              prevEl: ".popup-goods-prev",
            },
            breakpoints: {
              1140: {
                slidesPerView: 4,
              },
            }
          });
        }
        if (!bp.matches && !native) {
          //mobile
          const clone = $('.similar-desktop .swiper-slide').clone();
          $('.similar-mobile .ui-scroller').prepend(clone)
          native = true
        }

        

        function swiperFilters(slider) {
          let currentCat;

          $('.incart-filter-cat').bind('click', function() {
            const filter = $(this).attr('data-cat');
            const tab = $(this).attr('href');

            currentCat = filter;
            
            $('.popup-goods-body .swiper-slide').css('display', 'none')
            $('.popup-goods-body .swiper-slide[data-cat="'+currentCat+'"]').css('display', '')

            $(tab).find('.incart-filter').removeClass('active');
            $(tab).find('.incart-filter').eq(0).addClass('active');
            
            if (!slider) return false;
            slider.updateSize();
            slider.updateSlides();
            slider.updateProgress();
            slider.updateSlidesClasses();
            slider.slideTo(0);      
            return false;
          });


          $(document).on( 'click','.incart-filter', function(e) {
            e.preventDefault()
            const filter = $(this).attr('data-filter');
            
            $('.popup-goods-body .swiper-slide').css('display', 'none')

            if (filter !== '') {
              $('.popup-goods-body .swiper-slide[data-filter="'+filter+'"]').css('display', '')
            } else {
              $('.popup-goods-body .swiper-slide[data-cat="'+currentCat+'"]').css('display', '')
            }

            $(this).siblings().removeClass( 'active' );
            $( this ).addClass( 'active' );
            
            if (!slider) return false;
            slider.updateSize();
            slider.updateSlides();
            slider.updateProgress();
            slider.updateSlidesClasses();
            slider.slideTo(0);      
          });


          $('.incart-filter-cat').eq(0).click()
        }

        swiperFilters(slider)
      }
    });
  </script>
</div>